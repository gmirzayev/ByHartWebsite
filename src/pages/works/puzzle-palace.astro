---
const brand = "Puzzle Palace"
const tagline = "Your State of Play"
const tags = [
  "Brand Identity + Positioning",
  "Logo Design",
  "Art + Illustration",
  "Product Design (UX/UI)",
  "Original Naming",
  "Writing + Editing",
  "Surprise + Delight",
]

import "@styles/utils.css";
import "@styles/puzzle-palace.css";
import Image from "astro/components/Image.astro";
import ProjectLayout from "@layouts/ProjectLayout.astro";
import ProjectTags from "@components/ProjectTags.astro";
import ProjectHead from "@components/ProjectHead.astro";
import Navigation from "@components/Navigation.astro";
import ProjectsCarousel from "@components/ProjectsCarousel.astro";
import ResponsiveImage from "@components/ResponsiveImage.astro";
import ResponsiveBackground from "@components/ResponsiveBackground.astro";
import ResponsiveTextBlock from "@components/ResponsiveTextBlock.astro";

import Hero from "@assets/PuzzlePalace/img/01_PP_Hero_16x9_D.png"
import HeroMobile from "@assets/PuzzlePalace/img/01_PP_Hero_Mobile.png"
import AppAskewLeft from "@assets/PuzzlePalace/img/02_PP_APP.png"
import AppAskewRight from "@assets/PuzzlePalace/img/03_PP_APP.png"

import AppCardA from "@assets/PuzzlePalace/img/04_PP_illustration 1.png"
import AppCardB from "@assets/PuzzlePalace/img/04_PP_illustration 2.png"
import AppCardC from "@assets/PuzzlePalace/img/04_PP_illustration 3.png"
import AppCardD from "@assets/PuzzlePalace/img/04_PP_illustration 4.png"
import AppCardE from "@assets/PuzzlePalace/img/04_PP_illustration 5.png"
// moved to /public/images/backgrounds/puzzle-palace_sudoku-grid.svg:
// import AppCardsBg from "@assets/PuzzlePalace/img/04_PP_BG_crossword.svg"

import LogoMotion from "@assets/PuzzlePalace/05_PP_Logo.mp4"
import PaletteDesktop from "@assets/PuzzlePalace/img/06_PP_Color Palette_D.svg"
import PaletteMobile from "@assets/PuzzlePalace/img/06_PP_Color Palette_M.svg"
import TypographyDesktop from "@assets/PuzzlePalace/img/07_PP_Type_D.svg"
import TypographyMobile from "@assets/PuzzlePalace/img/07_PP_Type_M.svg"
import SubwayPoster from "@assets/PuzzlePalace/img/08_PP_Campaign.png"
import LandingPage from "@assets/PuzzlePalace/img/09_PP_LP.png"

import SplashScreenA from "@assets/PuzzlePalace/img/10_PP_App Splash Screen_1.png"
import SplashScreenB from "@assets/PuzzlePalace/img/10_PP_App Splash Screen_2.png"
import SplashScreenC from "@assets/PuzzlePalace/img/10_PP_App Splash Screen_3.png"
import SplashScreenD from "@assets/PuzzlePalace/img/10_PP_App Splash Screen_4.png"
import SplashScreenE from "@assets/PuzzlePalace/img/10_PP_App Splash Screen_5.png"
import SplashScreenF from "@assets/PuzzlePalace/img/10_PP_App Splash Screen_6.png"

import PortraitA from "@assets/PuzzlePalace/portraits/09_PP_BG_BW_1.png"
import PortraitB from "@assets/PuzzlePalace/portraits/09_PP_BG_BW_2.png"
import PortraitC from "@assets/PuzzlePalace/portraits/09_PP_BG_BW_3.png"
import PortraitD from "@assets/PuzzlePalace/portraits/09_PP_BG_BW_4.png"
import PortraitE from "@assets/PuzzlePalace/portraits/09_PP_BG_BW_5.png"
import PortraitF from "@assets/PuzzlePalace/portraits/09_PP_BG_BW_6.png"
import PortraitG from "@assets/PuzzlePalace/portraits/09_PP_BG_BW_7.png"
import PortraitApp from "@assets/PuzzlePalace/portraits/09_PP_PHONE_SUDOKU.svg"
// moved to /public/images/backgrounds:
// import PortraitsBg from "@assets/PuzzlePalace/portraits/09_PP_BG_SUDOKU_GRID.svg"

import ValueAMobile from "@assets/PuzzlePalace/values/value1-m.svg"
import ValueADesktop from "@assets/PuzzlePalace/values/value1-d.svg"
import ValueBMobile from "@assets/PuzzlePalace/values/value2-m.svg"
import ValueBDesktop from "@assets/PuzzlePalace/values/value2-d.svg"
import ValueCMobile from "@assets/PuzzlePalace/values/value3-m.svg"
import ValueCDesktop from "@assets/PuzzlePalace/values/value3-d.svg"
import ValueDMobile from "@assets/PuzzlePalace/values/value4-m.svg"
import ValueDDesktop from "@assets/PuzzlePalace/values/value4-d.svg"
import ValueEMobile from "@assets/PuzzlePalace/values/value5-m.svg"
import ValueEDesktop from "@assets/PuzzlePalace/values/value5-d.svg"

import EtcALeft from "@assets/PuzzlePalace/img/12_PP_cutting room floor_image_2.png"
import EtcARight from "@assets/PuzzlePalace/img/13_PP_cutting room floor_image_1.png"
import EtcB from "@assets/PuzzlePalace/img/14_PP_cutting room floor_image.png"
import EtcC from "@assets/PuzzlePalace/img/15_PP_cutting room floor_image.png"
import EtcD from "@assets/PuzzlePalace/img/16_PP_cutting room floor_image.png"
import ImgELeft from "@assets/PuzzlePalace/img/17_PP_cutting room floor_image.png"
import ImgECenter from "@assets/PuzzlePalace/img/18_PP_cutting room floor_image.png"
import ImgERight from "@assets/PuzzlePalace/img/19_PP_cutting room floor_image.png"

---

<ProjectLayout hero={Hero} mobile={HeroMobile} brand={brand} tagline={tagline} tags={tags}>

  <div class="app-askew">
    <div class="inner">
      <Image src={AppAskewLeft} alt="A screenshot from Puzzle Palace's app store page." />
      <Image src={AppAskewRight} alt="A screenshot from the home page of Puzzle Palace's mobile app." />
    </div>
  </div>

  <div class="app-cards spaced">
    <div class="tray">
      <Image src={AppCardE} loading="eager" alt="The icon design for the premier sunday crossword game." />
      <Image src={AppCardA} loading="eager" alt="The icon design for the Thomas Joseph Crossword game." />
      <Image src={AppCardB} loading="eager" alt="The icon design for the Plus One Word Search game." />
      <Image src={AppCardC} loading="eager" alt="The icon design for the Eugene Sheffer Crossword game." />
      <Image src={AppCardD} loading="eager" alt="The icon design for the King mini sudoku game." />
      <Image src={AppCardE} loading="eager" alt="The icon design for the premier sunday crossword game." />
      <Image src={AppCardA} loading="eager" alt="The icon design for the Thomas Joseph Crossword game." />
      <Image src={AppCardB} loading="eager" alt="The icon design for the Plus One Word Search game." />
      <Image src={AppCardC} loading="eager" alt="The icon design for the Eugene Sheffer Crossword game." />
      <Image src={AppCardD} loading="eager" alt="The icon design for the King mini sudoku game." />
    </div>
  </div>

  <div class="logo-motion">
    <video loop playsinline autoplay muted>
      <source src={LogoMotion} />
    </video>
  </div>

  <section>
    <h1>Color Palette</h1>
    <ResponsiveImage imgClass="color-palette" mobile={PaletteMobile} desktop={PaletteDesktop} alt="The color palette for the brand's design."/>
  </section>

  <section>
    <h1>Type Kit</h1>
    <ResponsiveImage imgClass="type-kit" mobile={TypographyMobile} desktop={TypographyDesktop} alt="An analysis of the brand's fonts, font sizes, and font stylings."/>
  </section>

  <Image src={SubwayPoster} widths={[2200]} alt="A person walking past subway posters promoting Puzzle Palace." />

  <Image class="landing-page" src={LandingPage} widths={[2200]} alt="A screenshot of the Puzzle Palace website." />

  <section>
    <h1>Palace Rules</h1>
    <ResponsiveTextBlock class="palace-rules">
      <div class="collapsed">
        <h1>DOs</h1>
        <p>Utilize <em>smart</em>, <em>playful</em>, and <em>rewarding</em> living brand values here, for language that sets a scene and builds a unique world.</p>
        <p>Lean into the idea of ‘Palace’ being a reference to a ‘palace of the mind’ (personalization / personal challenge), synonymous with ‘bounty’ (quality + quantity), or evocative of the sense of adventure (personal challenge / quest / goal-driven endeavor) reminiscent of stories in which a palace or kingdom is featured. <button>…&nbsp;Read More</button></p>
        <p>Seek to inspire simple smiles while using words that slightly elevate the tone for our self-proclaimed ‘word nerds’; knowing yet approachable.</p>
        <p>Use fitting, modern, still commonly understood ‘Palace’ words (e.g. Bounty, Feast, Queen, Kingdom, Adventure, Festivities, Chamber, Joust).</p>
      </div>
      <div class="collapsed">
        <h1>DON’Ts</h1>
        <p>Avoid awkward, forced puns or jokes (say no to ‘forced laughter’ or infantilizing / talking down to our players)</p>
        <p>Avoid leaning too much on ‘Palace’ language. Try to limit to once per piece of content (i.e email, ad). <button>…&nbsp;Read More</button></p>
        <p>Avoid themes involving ‘the royal treatment’ or royal court. Where’s the challenge or adventure in getting handed everything on a platter or pampered due to privilege?</p>
        <p>Do not treat ‘king’ as royal default — it’s gendered and the majority of our audience identifies as women (see further guidance in tone guide).</p>
        <p>Avoid words rarely used today (i.e Good morrow, Ye, Hark!).</p>
      </div>
    </ResponsiveTextBlock>
  </section>


  <div class="portraits">
    <div class="slideshow">
      <Image class="active" src={PortraitA} widths={[1200]} alt="A person using the app sitting on the couch." />
      <Image src={PortraitB} widths={[1200]} alt="A person having coffee and reading the newspaper." />
      <Image src={PortraitC} widths={[1200]} alt="A person using the app in the back of a car." />
      <Image src={PortraitD} widths={[1200]} alt="A person using the app while taking a bath." />
      <Image src={PortraitE} widths={[1200]} alt="A person reading a book on a bus or train." />
      <Image src={PortraitF} widths={[1200]} alt="A person using the app on their phone." />
      <Image src={PortraitG} widths={[1200]} alt="A person using the app on their phone." />
      <Image class="app" src={PortraitApp} widths={[1200]} alt="A screenshot of a sudoku game on the mobile app." />
    </div>
  </div>

  <section>
    <h1>App loading storyboard</h1>
    <div class="splash-screen">
      <div>
        <Image src={SplashScreenA} widths={[1200]} alt="A person using the app while in bed." />
        <Image src={SplashScreenB} widths={[1200]} alt="A person using the app while in the restroom." />
        <Image src={SplashScreenC} widths={[1200]} alt="A person using the app while having a bath." />
      </div>
      <div>
        <Image src={SplashScreenD} widths={[1200]} alt="A person having a hot drink." />
        <Image src={SplashScreenE} widths={[1200]} alt="A person riding the subway." />
        <Image src={SplashScreenF} widths={[1200]} alt="A person riding in a taxi." />
      </div>
    </div>
  </section>

  <section class="values">
    <h1>Living Values</h1>
    <div class="slideshow">
      <ResponsiveImage class="active" mobile={ValueAMobile} desktop={ValueADesktop} alt="A value of the Puzzle Palace brand: Playful"/>
      <ResponsiveImage mobile={ValueBMobile} desktop={ValueBDesktop} alt="A value of the Puzzle Palace brand: Smart"/>
      <ResponsiveImage mobile={ValueCMobile} desktop={ValueCDesktop} alt="A value of the Puzzle Palace brand: Approachable"/>
      <ResponsiveImage mobile={ValueDMobile} desktop={ValueDDesktop} alt="A value of the Puzzle Palace brand: Rewarding"/>
      <ResponsiveImage mobile={ValueEMobile} desktop={ValueEDesktop} alt="A value of the Puzzle Palace brand: Conscientious"/>
    </div>
  </section>

  <section class="cutting-room">
    <h1>Cutting Room Floor</h1>
    <div class="two-col">
      <Image src={EtcALeft} widths={[1200]} alt="An illustration of a person sitting cross legged having a hot drink." />
      <Image src={EtcARight} widths={[1200]} alt="An illustration of a person sitting cross legged." />
    </div>
    <Image class="square" src={EtcB} widths={[1200]} alt="An illustration of a person sitting cross legged having a hot drink." />
    <Image class="square" src={EtcC} widths={[1200]} alt="A person in the back of a taxi on their phone with the Puzzle Palace logo on top of the picture." />
    <Image class="narrow" src={EtcD} widths={[1200]} alt="Water being poured into a cup from a kettle." />
    <div class="three-col">
      <Image src={ImgELeft} widths={[1200]} alt="A variation of the Puzzle Palace logo with brand colors." />
      <Image src={ImgECenter} widths={[1200]} alt="A variation of the Puzzle Palace logo with brand colors." />
      <Image src={ImgERight} widths={[1200]} alt="A variation of the Puzzle Palace logo with brand colors." />
    </div>

  </section>

</ProjectLayout>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // work around the Safari bug that doesn't recalculate vw units when the window resizes
    const {userAgent:ua} = navigator,
          isSafari = ua.indexOf('Safari') >=  0 &&
                     ua.indexOf('Chrome') == -1 &&
                     ua.indexOf('CriOS/') == -1

    if (isSafari) window.addEventListener("resize", () => {
      document.querySelectorAll(".app-cards img").forEach((card:HTMLElement) => {
        card.style.animationName = "none"
        setTimeout(() => card.style.animationName = "infinite-slide" )
      })
    })

    // crossfade portraits over the sudoku background & values text
    let dt = 0
    document.querySelectorAll('.slideshow').forEach(elt => {
        let slides = elt.querySelectorAll(":scope>picture,:scope>img:not(.app"),
            len = slides.length,
            idx = 0

        const advance = () => {
            idx++
            slides.forEach((img, i) => {
                img.classList.toggle('active', i==idx%len)
            })
        }

        setTimeout(() => setInterval(advance, 2000), dt)
        dt += 666
    })
  })

  // clicking the Read More button in the Dos & Don'ts section displays more on mobile
  document.querySelectorAll('.palace-rules div').forEach(elt => {
    elt.addEventListener("click", e => {
      if (e.target instanceof HTMLButtonElement){
        elt.classList.remove("collapsed")
      }
    })
  })


</script>

